FROM python:3.11.7-slim

ENV DEBIAN_FRONTEND=noninteractive
WORKDIR /app

RUN pip install gunicorn
COPY website/requirements.txt /app
RUN pip install -r /app/requirements.txt
COPY website/ /app/website

CMD ["python3", "-m", "gunicorn", "-w", "1", "-k", "uvicorn.workers.UvicornWorker", "website.server:app", "--bind", "0.0.0.0:8000"]
